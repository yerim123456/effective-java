## item 23

### íƒœê·¸ ë‹¬ë¦° í´ë˜ìŠ¤ë³´ë‹¤ëŠ” í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡°ë¥¼ í™œìš©í•˜ë¼

---

### ğŸ™‹â€â™€ï¸ `íƒœê·¸ ë‹¬ë¦° í´ë˜ìŠ¤`ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

```java
import java.awt.Shape;

class Figure {
    enum Shape {RECTANGLE, CIRCLE}

    ;

    // íƒœê·¸ í•„ë“œ - í˜„ì¬ ëª¨ì–‘ì„ ë‚˜íƒ€ë‚¸ë‹¤.
    final Shape shape;

    // ë‹¤ìŒ í•„ë“œë“¤ì€ ëª¨ì–‘ì´ ì‚¬ê°í˜•(RECTANGLE)ì¼ ë•Œë§Œ ì“°ì¸ë‹¤.
    double length;
    double width;

    // ë‹¤ìŒ í•„ë“œëŠ” ëª¨ì–‘ì´ ì›(CIRCLE)ì¼ ë•Œë§Œ ì“°ì¸ë‹¤.
    double radius;

    // ë‹¤ìŒ í•„ë“œëŠ” ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.
    final double x;
    final double y;
    
    // ì›ìš© ìƒì„±ì
    Figure(double x, double y, double radius) {
        shape = Shape.CIRCLE;
        this.x = x;
        this.y = y;
        this.radius = radius;
    }

    // ì‚¬ê°í˜•ìš© ìƒì„±ì
    Figure(double x, double y,double length, double width) {
        shape = Shape.RECTANGLE;
        this.x = x;
        this.y = y;
        this.length = length;
        this.width = width;
    }

    // Shapeì˜ ì¢…ë¥˜ì™€ ê´€ê³„ ì—†ì´ í˜„ì¬ ìœ„ì¹˜ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
    String getFormattedPosition() {
        return String.format("í˜„ì¬ ìœ„ì¹˜ëŠ” %.0f, %.0f ì…ë‹ˆë‹¤.", x, y);
    }
    
    double area() {
        switch (shape) {
            case RECTANGLE:
                return length * width;
            case CIRCLE:
                return Math.PI * (radius * radius);
            default:
                throw new AssertionError(shape);
        }
    }
}
```


íƒœê·¸ê°€ ë‹¬ë¦° í´ë˜ìŠ¤ëŠ” `ë‘ ê°€ì§€ ì´ìƒì˜ ì˜ë¯¸ë¥¼ í‘œí˜„`í•  ìˆ˜ ìˆìœ¼ë©° í˜„ì¬ `í‘œí˜„í•˜ëŠ” ì˜ë¯¸ë¥¼ íƒœê·¸ ê°’`ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

---

### ğŸ™‹â€â™€ï¸ ìœ„ì˜ ì˜ˆì œì˜ ë‹¨ì ì€ ë¬´ì—‡ì¸ê°€ìš”?

ì¥í™©í•˜ê³ , ì˜¤ë¥˜ë¥¼ ë‚´ê¸° ì‰½ê³ , ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤.

#### 1) `ë‘ ê°€ì§€ ì´ìƒì˜ ì˜ë¯¸ë¥¼ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì—ì„œ í‘œí˜„`í•˜ê¸° ìœ„í•´ `ì“¸ë°ì—†ëŠ” ì½”ë“œ`ê°€ ë§ìŠµë‹ˆë‹¤. > ê°€ë…ì„±ê³¼ ë©”ëª¨ë¦¬ ì°¨ì§€ â†‘

#### 2) `í•„ë“œë¥¼ final ë¡œ ì„ ì–¸í•˜ë ¤ë©´` í•´ë‹¹í•˜ëŠ” ì˜ë¯¸ì— `ì“°ì´ì§€ ì•ŠëŠ” í•„ë“œë“¤ê¹Œì§€ ì´ˆê¸°í™”`ê°€ í•„ìš”í•©ë‹ˆë‹¤. > ì»´íŒŒì¼ëŸ¬ ì—ëŸ¬ ì¸ì§€ X / ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œê²¬ ê°€ëŠ¥ì„± â†‘

#### 3) `ìƒˆë¡œìš´ ì˜ë¯¸ ì¶”ê°€`ë¥¼ ìœ„í•´ `root í´ë˜ìŠ¤ì— ë¶ˆí•„ìš”í•œ ì½”ë“œë¥¼ ì¶”ê°€`í•´ì•¼ í•©ë‹ˆë‹¤. > ì»´íŒŒì¼ëŸ¬ ì—ëŸ¬ ì¸ì§€ X / ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œê²¬ ê°€ëŠ¥ì„± â†‘

#### 4) `Figure` ë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ì…ë§Œìœ¼ë¡œëŠ” `í˜„ì¬ ë‚˜íƒ€ë‚´ëŠ” ì˜ë¯¸(RECTANCLE, CIRCLE, ..)`ë¥¼ ì•Œ ê¸¸ì´ ì—†ìŒ > ê°€ë…ì„±ê³¼ ì½”ë“œ ì´í•´ë„ â†“

---

### ğŸ™Œ íƒœê·¸ê°€ ë‹¬ë¦° í´ë˜ìŠ¤ë¥¼ ëŒ€ì²´í•˜ëŠ” ê²ƒ, ì„œë¸Œíƒ€ì´í•‘

ì´ëŸ° ìƒí™©ì—ì„œ `íƒ€ì… í•˜ë‚˜`ë¡œ `ë‹¤ì–‘í•œ ì˜ë¯¸ì˜ ê°ì²´ë¥¼ í‘œí˜„`í•˜ëŠ” í›¨ì”¬ ë‚˜ì€ ìˆ˜ë‹¨ì„ ì œê³µí•˜ëŠ”ë°,
ì´ê°€ `í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡°ë¥¼ í™œìš©`í•˜ëŠ” `ì„œë¸Œ íƒ€ì´í•‘`ì…ë‹ˆë‹¤.
`ì„œë¸Œ íƒ€ì´í•‘` ì´ë€, í•˜ìœ„ íƒ€ì…ì´ ìƒìœ„ íƒ€ì…ì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ê°œë…ìœ¼ë¡œ,
`ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™`ì— ë”°ë¼ ë™ì‘í•©ë‹ˆë‹¤.

ê³„ì¸µ êµ¬ì¡°ë¼ê³  í•˜ëŠ” ê²ƒì€ ì½”ë“œë¥¼ ë³´ë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í˜„ì¬ êµ¬í˜„ëœ ê²ƒê³¼ ìƒì†ëœ ê²ƒì„ ì •ë¦¬í•´ë³´ë©´ `Figure > Rectangle > Square` ë¡œ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì´ë£¹ë‹ˆë‹¤.

```java
import java.awt.Shape;

abstract class Figure {
    final double x; // x ì¢Œí‘œ
    final double y; // y ì¢Œí‘œ

    // ìƒì„±ì: xì™€ y ì¢Œí‘œ ì´ˆê¸°í™”
    Figure(double x, double y) {
        this.x = x;
        this.y = y;
    }

    // ì¶”ìƒ ë©”ì„œë“œ: ë©´ì  ê³„ì‚°
    abstract double area();

    // í˜„ì¬ ìœ„ì¹˜ ë°˜í™˜í•˜ëŠ” ì¼ë°˜ ë©”ì„œë“œ
    String getFormattedPosition() {
        return String.format("í˜„ì¬ ìœ„ì¹˜ëŠ” %.0f, %.0f ì…ë‹ˆë‹¤.", x, y);
    }
}
```

```java
class Rectangle extends Figure {
    final double length;
    final double width;

    Rectangle(double x, double y, double length, double width) {
        super(x, y); // ë¶€ëª¨ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
        this.length = length;
        this.width = width;
    }
    
    @Override
    double area() {
        return length * width;
    }
}
```

```java
class Square extends Rectangle {
    Square(double x, double y, double side) {
        super(x, y, side, side); // ë¶€ëª¨ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
    }
}
```

ìœ„ì˜ í´ë˜ìŠ¤ë¥¼ ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´,
`Figure` í´ë˜ìŠ¤ í•˜ë‚˜ë¡œ `Rectangle`, `Circle`, `Square` ë“± ë‹¤ì–‘í•œ ì˜ë¯¸ì˜ ê°ì²´ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public static void main(String[] args) {
    Figure rectangle = new Rectangle(5, 10);
    Figure square = new Square(5);

    System.out.println(rectangle.area());   // 50.0
    System.out.println(square.area());    // 25.0
}   
```

---

### âœ… `íƒœê·¸ ë‹¬ë¦° í´ë˜ìŠ¤` > `í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡°`ë¡œ ë¦¬íŒ©í† ë§í•˜ëŠ” ë°©ë²•!

ìœ„ì˜ ì˜ˆì œ ì½”ë“œëŠ” íƒœê·¸ ë‹¬ë¦° í´ë˜ìŠ¤ì˜€ë˜ `Figure` í´ë˜ìŠ¤ë¥¼ ë¦¬íŒ©í† ë§í•œ ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¼ ì–´ë–»ê²Œ í•  ìˆ˜ ì‡ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### ì¶”ìƒ í´ë˜ìŠ¤ ì •ì˜
#### 1) ê³„ì¸µêµ¬ì¡°ì˜ rootê°€ ë  ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì •ì˜ [Figure abstract class]
#### 2) íƒœê·¸ ê°’ì— ë”°ë¼ ë™ì‘ì´ ë‹¬ë¼ì§€ëŠ” ë©”ì„œë“œë¥¼ ì¶”ìƒ ë©”ì„œë“œë¡œ ì •ì˜ [Figure > area abstract method]
#### 3) íƒœê·¸ ê°’ì— ë”°ë¼ ë™ì‘ì´ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ë©”ì„œë“œë¥¼ ì¼ë°˜ ë©”ì„œë“œë¡œ ì¶”ê°€ [Figure > getFormattedPosition method]
#### 4) í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„° í•„ë“œ ë£¨íŠ¸ í´ë˜ìŠ¤ë¡œ ì¶”ê°€ [Figure > x, y final field]

<details><summary>ğŸ“‘ ì™„ì„±ëœ ì½”ë“œ</summary>

```java
import java.awt.Shape;

abstract class Figure {
    final double x; // x ì¢Œí‘œ
    final double y; // y ì¢Œí‘œ

    // ìƒì„±ì: xì™€ y ì¢Œí‘œ ì´ˆê¸°í™”
    Figure(double x, double y) {
        this.x = x;
        this.y = y;
    }

    // ì¶”ìƒ ë©”ì„œë“œ: ë©´ì  ê³„ì‚°
    abstract double area();

    // í˜„ì¬ ìœ„ì¹˜ ë°˜í™˜í•˜ëŠ” ì¼ë°˜ ë©”ì„œë“œ
    String getFormattedPosition() {
        return String.format("í˜„ì¬ ìœ„ì¹˜ëŠ” %.0f, %.0f ì…ë‹ˆë‹¤.", x, y);
    }
}
```

</details>

<br/>

### êµ¬ì²´ í´ë˜ìŠ¤ ì •ì˜
#### 1) ì˜ë¯¸ë³„ë¡œ ë£¨íŠ¸ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•œ êµ¬ì²´í´ë˜ìŠ¤ ì •ì˜ [Rectangle, Circle, ...] 
#### 2) ê°ì ì˜ë¯¸ì— ë§ëŠ” ë°ì´í„° í•„ë“œ ì¶”ê°€ [Rectangle > length, width, Circle > radius]
#### 3) ì¶”ìƒ ë©”ì„œë“œ êµ¬í˜„ [area abstract method overriding]

<details><summary>ğŸ“‘ ì™„ì„±ëœ ì½”ë“œ</summary>

```java
class Rectangle extends Figure {
    final double length;
    final double width;

    Rectangle(double x, double y, double length, double width) {
        super(x, y); // ë¶€ëª¨ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
        this.length = length;
        this.width = width;
    }

    @Override
    double area() {
        return length * width;
    }
}
```

</details>

---

### ğŸ™Œ ë‹¬ë¼ì§„ ì 
#### 1) `ê´€ë ¨ ì—†ë˜ ë°ì´í„° í•„ë“œ ëª¨ë‘ ì œê±°`ë¨ (ì‚´ì•„ë‚¨ì€ í•„ë“œëŠ” ëª¨ë‘ final)
#### 2) ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì „ì— ì¶”ìƒ ë©”ì„œë“œ êµ¬í˜„ì„ `ì»´íŒŒì¼ëŸ¬ê°€ í™•ì¸`í•´ì¤Œ (switch ë¬¸ì— case ë¯¸í¬í•¨ìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ ë°œìƒ X)
#### 3) ë£¨íŠ¸ í´ë˜ìŠ¤ì˜ ì½”ë“œì— ì ‘ê·¼í•˜ì§€ ì•Šê³ ë„ `ë…ë¦½ì ìœ¼ë¡œ ê³„ì¸µêµ¬ì¡° í™•ì¥ì´ ê°€ëŠ¥`
#### 4) `íƒ€ì…ì´ ì˜ë¯¸ ë³„ë¡œ ì¡´ì¬`í•˜ê¸°ì— ë³€ìˆ˜ ì˜ë¯¸ ëª…ì‹œ ë° ì œí•œ, ë³€ìˆ˜ì— ë”°ë¥¸ ì˜ë¯¸ ë³„ ë§¤ê²¨ë³€ìˆ˜ ì„¤ì • ê°€ëŠ¥
#### 5) `íƒ€ì… ì‚¬ì´ ìì—°ìŠ¤ëŸ° ê³„ì¸µ ê´€ê²Œ ë°˜ì˜ ê°€ëŠ¥` > ìœ ì—°ì„± + ì»´íŒŒì¼íƒ€ì„ íƒ€ì… ê²€ì‚¬ ëŠ¥ë ¥ â†‘ (ex Square í´ë˜ìŠ¤)
